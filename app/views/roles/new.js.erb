$('body').append("<%= escape_javascript render partial: 'new_form_popup', locals: {role: @role}  %>");
elem = $("#new_form_popup");
Popup.initialize(elem);
Popup.open(elem);
Validation.RoleSettingForm();
$('#select_all_roles').change(function (){
    if ($(this).is(':checked')){
        $('.role-access').prop('checked', true)
        $('.all-check').prop('checked', true)
    }
    else {
        $('.role-access').prop('checked', false)
        $('.all-check').prop('checked', false)
    }

})
$('#Invoice_check').change(function (){
    if ($(this).is(':checked')){
        $('.Invoice_permissions > li > .checkbox-field > input[type=checkbox]').prop('checked', true)
    }
    else {
        $('.Invoice_permissions > li > .checkbox-field > input[type=checkbox]').prop('checked', false)

    }
})
$('#Estimate_check').change(function (){
    if ($(this).is(':checked')){
        $('.Estimate_permissions > li > .checkbox-field > input[type=checkbox]').prop('checked', true)
    }
    else {
        $('.Estimate_permissions > li > .checkbox-field > input[type=checkbox]').prop('checked', false)

    }
})
$('#Payment_check').change(function (){
    if ($(this).is(':checked')){
        $('.Payment_permissions > li > .checkbox-field > input[type=checkbox]').prop('checked', true)
    }
    else {
        $('.Payment_permissions > li > .checkbox-field > input[type=checkbox]').prop('checked', false)

    }
})
$('#Client_check').change(function (){
    if ($(this).is(':checked')){
        $('.Client_permissions > li > .checkbox-field > input[type=checkbox]').prop('checked', true)
    }
    else {
        $('.Client_permissions > li > .checkbox-field > input[type=checkbox]').prop('checked', false)

    }
})
$('#Item_check').change(function (){
    if ($(this).is(':checked')){
        $('.Item_permissions > li > .checkbox-field > input[type=checkbox]').prop('checked', true)
    }
    else {
        $('.Item_permissions > li > .checkbox-field > input[type=checkbox]').prop('checked', false)

    }
})
$('#Taxes_check').change(function (){
    if ($(this).is(':checked')){
        $('.Taxes_permissions > li > .checkbox-field > input[type=checkbox]').prop('checked', true)
    }
    else {
        $('.Taxes_permissions > li > .checkbox-field > input[type=checkbox]').prop('checked', false)

    }
})
$('#Report_check').change(function (){
    if ($(this).is(':checked')){
        $('.Report_permissions > li > .checkbox-field > input[type=checkbox]').prop('checked', true)
    }
    else {
        $('.Report_permissions > li > .checkbox-field > input[type=checkbox]').prop('checked', false)

    }
})
$('#Settings_check').change(function (){
    if ($(this).is(':checked')){
        $('.Settings_permissions > li > .checkbox-field > input[type=checkbox]').prop('checked', true)
    }
    else {
        $('.Settings_permissions > li > .checkbox-field > input[type=checkbox]').prop('checked', false)

    }
})
Validation.RoleSettingForm()
